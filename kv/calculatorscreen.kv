#: import labels labels

<CalcButton@Button>:
    size_hint_y: 1
    background_down: "grey_color.png"
    # color: 0,0,0,1


<CalculatorScreen>:
    BoxLayout:
        orientation: "vertical"

        # First line with History, Input and DEL and CLEAR Button
        BoxLayout:
            orientation: "horizontal"
            cols: 3
            size_hint_y: 2

            BoxLayout:
                orientation: "vertical"
                size_hint_x: 5
                Button:
                    id: last_inp
                    text: root.history_text
                    font_size: self.height - 20
                    background_down: "grey_color.png"
                    size_hint_y: 1
                    on_release: root.last_result_print()

                TextInput:
                    on_text: print(self.text)
                    id: calc_inp
                    text: ""
                    size_hint_y: 2
                    font_size: self.height - 20
                    multiline: False
                    background_color: (.5, .5, .5, 1) if self.focus else (.2, .2, .2, 0.9)
                    #foreground_color: 0,1,0,1
            Button:
                text: labels.CalculatorDelete
                background_down: "grey_color.png"
                size_hint_x: 1
                color: 1, 1, 0, 1
                on_release: root.delete_last_char()

            Button:
                text: labels.CalculatorClear
                background_down: "grey_color.png"
                size_hint_x: 1
                color: 1, 1, 0, 1
                on_release: root.clear_text_input()

        # The following BoxLayouts are Buttons (from NumberButton)
        # for the Calculator with the last one the equal Button)
        BoxLayout:
            size_hint_y: 1
            orientation: "horizontal"

            CalcButton:
                text: "1"
                on_press: root.print_button_text("1")
            CalcButton:
                text: "2"
                on_press: root.print_button_text("2")
            CalcButton:
                text: "3"
                on_press: root.print_button_text("3")
            CalcButton:
                text: "+"
                on_press: root.print_button_text("+")

        BoxLayout:
            size_hint_y: 1
            orientation: "horizontal"
            CalcButton:
                text: "4"
                on_press: root.print_button_text("4")
            CalcButton:
                text: "5"
                on_press: root.print_button_text("5")
            CalcButton:
                text: "6"
                on_press: root.print_button_text("6")
            CalcButton:
                text: "-"
                on_press: root.print_button_text("-")


        BoxLayout:
            size_hint_y: 1
            orientation: "horizontal"
            CalcButton:
                text: "7"
                on_press: root.print_button_text("7")
            CalcButton:
                text: "8"
                on_press: root.print_button_text("8")
            CalcButton:
                text: "9"
                on_press: root.print_button_text("9")
            CalcButton:
                text: "."
                on_press: root.print_button_text(".")

        BoxLayout:
            size_hint_y: 1
            orientation: "horizontal"
            CalcButton:
                text: "0"
                on_press: root.print_button_text("0")
            CalcButton:
                text: "*"
                on_press: root.print_button_text("*")
            CalcButton:
                text: "/"
                on_press: root.print_button_text("/")

            Button:
                text: "="
                size_hint_y: 1
                color: 0,1,0,1
                on_press: root.eval_function()


